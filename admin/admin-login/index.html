<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600&display=swap" rel="stylesheet">       

    <link rel="stylesheet" href="../style.css">

    <title>Admin Login</title>
    
</head>
<body>
    <div class="mainLog">
        <div class="formLog">
            <form onsubmit="return validateForm()" action="./login.php" method="post">
                <div class="h">
                    <h1>ADMIN LOGIN</h1>
                    <p>Gotta do some work. Let's Go!</p>
                </div>

                <input type="text" id="id" name="id" placeholder="Admin ID">
                <p id="warningAdm" class="a"></p>
                <div class="pa">
                    <input style="width: 100%;" type="password" id="pass" class="password" name="password" placeholder="Password">
                    <p id="warningPass" class="a"></p>
                    <input type="checkbox" id="showPass" name="showPass" checked>
                    <label id="passj23" for="showPass">
                        <img id="img" src="../../resources/hidden.png" alt="show password">
                    </label>
                </div>
                <input type="submit" class="button" style="width: 100%;" name="submit" value="Log In"> 
                <p class="cp">&copy;xfasso 2024</p>
            </form>
        </div>
    </div>
</body>
<script src="./main.js"></script>
<script>
    function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(";").shift();
    }

    
    let id = document.getElementById('id');
    let pass = document.getElementById('pass');
    let warningAdm = document.getElementById('warningAdm');
    let warningPass = document.getElementById('warningPass');
    
    if(getCookie('wrong')) {
        warningPass.textContent = 'username or password is wrong';
        document.cookie = 'wrong=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;'
    }

    id.addEventListener('input', ()=> {
        warningAdm.textContent = '';
    });

    pass.addEventListener('input', ()=> {
        warningPass.textContent = '';
    });
    function validateForm() {        
        if (id.value.length < 6) {
            warningAdm.textContent = 'enter a valid admin ID';
            return false;
        } else if (pass.value.length < 6) {
            warningPass.textContent = 'enter a valid password';
            return false;
        } else {
            return true;
        }
    }
</script>
</html>